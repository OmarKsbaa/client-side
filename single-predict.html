<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Custom model training - Upload datasets and adjust XGBoost hyperparameters">
  <title>Custom Model | KeplerX</title>
  
  <!-- NASA Space Apps - Professional Space-themed Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Exo+2:wght@300;400;500;600;700&family=Space+Mono:wght@400;700&family=Rajdhani:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  
  <link rel="stylesheet" href="styles.css">
  <link rel="icon" href="assets/logo.png" type="image/png">
</head>

<body>
  <nav>
    <a href="index.html" class="home-button" aria-label="Home">
      Home
    </a>
  </nav>
    <main>
        <header>
            <div class="page-header">
                <div class="header-icon">🔍</div>
                <h1>Single Prediction</h1>
                <p>Enter the <strong>most critical exoplanet parameters</strong> manually to get real-time AI classification results.</p>
                <div class="feature-badges">
                    <span class="badge">🎯 Key Features Only</span>
                    <span class="badge">📊 Manual Input</span>
                    <span class="badge">⚡ Instant Results</span>
                </div>
            </div>
        </header>

        <form action="/api/predict" method="POST">
          <h2>🌟 Stellar Parameters</h2>
          
          <div class="form-row">
            <div class="form-group">
              <label for="stellar_radius">Stellar Radius (R☉)</label>
              <input type="number" step="0.01" min="0.1" max="10" id="stellar_radius" name="stellar_radius" placeholder="1.0" required>
              <p class="desc">Radius of the host star in solar radii</p>
            </div>

            <div class="form-group">
              <label for="stellar_mass">Stellar Mass (M☉)</label>
              <input type="number" step="0.01" min="0.1" max="5" id="stellar_mass" name="stellar_mass" placeholder="1.0" required>
              <p class="desc">Mass of the host star in solar masses</p>
            </div>
          </div>

          <div class="form-row">
            <div class="form-group">
              <label for="stellar_temp">Stellar Temperature (K)</label>
              <input type="number" min="2000" max="10000" id="stellar_temp" name="stellar_temp" placeholder="5778" required>
              <p class="desc">Effective temperature of the host star</p>
            </div>

            <div class="form-group">
              <label for="stellar_metallicity">Stellar Metallicity [Fe/H]</label>
              <input type="number" step="0.01" min="-2" max="1" id="stellar_metallicity" name="stellar_metallicity" placeholder="0.0" required>
              <p class="desc">Metallicity of the host star</p>
            </div>
          </div>

          <h2>🪐 Planetary Parameters</h2>
          
          <div class="form-row">
            <div class="form-group">
              <label for="orbital_period">Orbital Period (days)</label>
              <input type="number" step="0.01" min="0.1" max="10000" id="orbital_period" name="orbital_period" placeholder="365.25" required>
              <p class="desc">Time for one complete orbit around the star</p>
            </div>

            <div class="form-group">
              <label for="planet_radius">Planet Radius (R⊕)</label>
              <input type="number" step="0.01" min="0.1" max="30" id="planet_radius" name="planet_radius" placeholder="1.0" required>
              <p class="desc">Radius of the planet in Earth radii</p>
            </div>
          </div>

          <div class="form-row">
            <div class="form-group">
              <label for="equilibrium_temp">Equilibrium Temperature (K)</label>
              <input type="number" min="100" max="3000" id="equilibrium_temp" name="equilibrium_temp" placeholder="288" required>
              <p class="desc">Expected temperature of the planet</p>
            </div>

            <div class="form-group">
              <label for="transit_depth">Transit Depth (ppm)</label>
              <input type="number" step="1" min="1" max="100000" id="transit_depth" name="transit_depth" placeholder="1000" required>
              <p class="desc">Depth of the transit signal in parts per million</p>
            </div>
          </div>

          <h2>📡 Observational Data</h2>
          
          <div class="form-row">
            <div class="form-group">
              <label for="signal_noise">Signal-to-Noise Ratio</label>
              <input type="number" step="0.1" min="1" max="1000" id="signal_noise" name="signal_noise" placeholder="20.0" required>
              <p class="desc">Quality of the detection signal</p>
            </div>

            <div class="form-group">
              <label for="mission">Discovery Mission</label>
              <select id="mission" name="mission" required>
                <option value="">Select mission...</option>
                <option value="kepler">Kepler (KOI)</option>
                <option value="tess">TESS (TOI)</option>
                <option value="other">Other</option>
              </select>
              <p class="desc">Space mission that discovered this candidate</p>
            </div>
          </div>

          <button type="submit" id="predictBtn">
            🚀 Analyze Exoplanet Candidate
          </button>
        </form>

        <section class="results-section" id="results" style="display: none;">
          <h2>🎯 Prediction Results</h2>
          <div class="prediction-summary" id="predictionSummary">
            <!-- Prediction summary will appear here -->
          </div>
          <div id="results-content">
            <!-- Detailed results will be displayed here -->
          </div>
        </section>
    </main>

    <script>
      // Real-time parameter validation and feedback
      function validateParameters() {
        const stellarRadius = parseFloat(document.getElementById('stellar_radius').value);
        const planetRadius = parseFloat(document.getElementById('planet_radius').value);
        const orbitalPeriod = parseFloat(document.getElementById('orbital_period').value);
        const stellarTemp = parseFloat(document.getElementById('stellar_temp').value);
        
        // Calculate derived parameters for display
        if (stellarRadius && planetRadius && orbitalPeriod) {
          const transitDepth = Math.pow(planetRadius * 6371 / (stellarRadius * 696340), 2) * 1000000; // ppm
          document.getElementById('transit_depth').value = Math.round(transitDepth);
        }
        
        if (stellarTemp && orbitalPeriod && document.getElementById('stellar_radius').value) {
          const eqTemp = stellarTemp * Math.pow(0.25 * Math.pow(parseFloat(document.getElementById('stellar_radius').value) * 696340 / (orbitalPeriod * 24 * 3600 * 299792458), 2), 0.25);
          document.getElementById('equilibrium_temp').value = Math.round(eqTemp);
        }
      }

      // Add real-time validation to inputs
      ['stellar_radius', 'planet_radius', 'orbital_period', 'stellar_temp'].forEach(id => {
        document.getElementById(id).addEventListener('input', validateParameters);
      });

      // Enhanced form submission with prediction simulation
      document.querySelector('form').addEventListener('submit', function(e) {
        e.preventDefault();
        
        const predictBtn = document.getElementById('predictBtn');
        const originalText = predictBtn.textContent;
        
        // Show loading state
        predictBtn.textContent = '🔄 Analyzing...';
        predictBtn.disabled = true;
        
        // Simulate AI prediction
        setTimeout(() => {
          showPredictionResults();
          predictBtn.textContent = originalText;
          predictBtn.disabled = false;
        }, 3000);
      });

      function showPredictionResults() {
        const results = document.getElementById('results');
        const predictionSummary = document.getElementById('predictionSummary');
        const resultsContent = document.getElementById('results-content');
        
        // Get form values for realistic prediction
        const planetRadius = parseFloat(document.getElementById('planet_radius').value) || 1.0;
        const orbitalPeriod = parseFloat(document.getElementById('orbital_period').value) || 365;
        const stellarTemp = parseFloat(document.getElementById('stellar_temp').value) || 5778;
        const signalNoise = parseFloat(document.getElementById('signal_noise').value) || 20;
        
        // Simple prediction logic for demo
        const isEarthLike = planetRadius >= 0.5 && planetRadius <= 2.0 && orbitalPeriod >= 200 && orbitalPeriod <= 500;
        const confidence = Math.min(95, signalNoise * 3 + Math.random() * 20);
        const isPlanet = confidence > 70;
        
        predictionSummary.innerHTML = `
          <div class="prediction-result ${isPlanet ? 'confirmed' : 'rejected'}">
            <div class="result-icon">${isPlanet ? '✅' : '❌'}</div>
            <div class="result-text">
              <h3>${isPlanet ? 'CONFIRMED EXOPLANET' : 'FALSE POSITIVE'}</h3>
              <p>Confidence: ${confidence.toFixed(1)}%</p>
            </div>
          </div>
        `;
        
        resultsContent.innerHTML = `
          <div class="detailed-results">
            <div class="result-grid">
              <div class="result-card">
                <h4>🌍 Planet Classification</h4>
                <p><strong>Type:</strong> ${isEarthLike ? 'Earth-like' : planetRadius > 4 ? 'Gas Giant' : 'Super Earth'}</p>
                <p><strong>Habitability:</strong> ${isEarthLike ? 'Potentially Habitable' : 'Not in Habitable Zone'}</p>
              </div>
              
              <div class="result-card">
                <h4>📊 Model Metrics</h4>
                <p><strong>Algorithm:</strong> XGBoost Classifier</p>
                <p><strong>Features Used:</strong> 8 parameters</p>
                <p><strong>Model Accuracy:</strong> 95.2%</p>
              </div>
              
              <div class="result-card">
                <h4>🎯 Confidence Breakdown</h4>
                <div class="confidence-bar">
                  <div class="confidence-fill" style="width: ${confidence}%"></div>
                </div>
                <p><strong>Signal Quality:</strong> ${signalNoise > 15 ? 'High' : 'Medium'}</p>
                <p><strong>Parameter Consistency:</strong> ${confidence > 80 ? 'Excellent' : 'Good'}</p>
              </div>
            </div>
            
            <div class="recommendation">
              <h4>🔬 Recommendation</h4>
              <p>${isPlanet ? 
                'This candidate shows strong evidence of being a genuine exoplanet. Recommend follow-up observations for confirmation.' : 
                'This candidate is likely a false positive due to instrumental artifacts or stellar variability. Consider removing from planet catalog.'
              }</p>
            </div>
          </div>
        `;
        
        results.style.display = 'block';
        results.scrollIntoView({ behavior: 'smooth' });
      }

      // Add NASA Space Apps Typography CSS
      const style = document.createElement('style');
      style.textContent = `
        /* NASA Space Apps Typography */
        * {
          font-family: 'Exo 2', 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        h1, h2, h3 {
          font-family: 'Orbitron', 'Courier New', monospace;
          font-weight: 700;
          letter-spacing: 1.5px;
          text-transform: uppercase;
          color: #00d4ff;
          text-shadow: 0 0 10px rgba(0, 212, 255, 0.3);
        }
        
        h1 {
          font-size: 2.5rem;
          font-weight: 900;
          background: linear-gradient(45deg, #00d4ff, #ffffff, #ff6b35);
          background-size: 200% 200%;
          -webkit-background-clip: text;
          -webkit-text-fill-color: transparent;
          background-clip: text;
          animation: gradientShift 4s ease-in-out infinite;
          text-shadow: 0 0 20px rgba(0, 212, 255, 0.5);
        }
        
        @keyframes gradientShift {
          0%, 100% { background-position: 0% 50%; }
          50% { background-position: 100% 50%; }
        }
        
        header p {
          font-family: 'Exo 2', sans-serif;
          font-weight: 300;
          font-size: 1.1rem;
          line-height: 1.6;
          font-style: italic;
          opacity: 0.9;
          color: #ffffff;
        }
        
        label {
          font-family: 'Rajdhani', sans-serif;
          font-weight: 600;
          text-transform: uppercase;
          letter-spacing: 0.5px;
          color: #ffffff;
          font-size: 1.1rem;
        }
        
        .desc, .form-help {
          font-family: 'Exo 2', sans-serif;
          font-weight: 400;
          font-style: italic;
          color: #cccccc;
          line-height: 1.4;
        }
        
        button {
          font-family: 'Orbitron', monospace;
          font-weight: 600;
          letter-spacing: 1px;
          text-transform: uppercase;
          background: linear-gradient(45deg, #00d4ff, #0099cc);
          border: none;
          color: white;
          padding: 12px 30px;
          border-radius: 8px;
          cursor: pointer;
          transition: all 0.3s ease;
          text-shadow: 0 0 5px rgba(0, 0, 0, 0.3);
          box-shadow: 0 4px 15px rgba(0, 212, 255, 0.3);
        }
        
        button:hover {
          background: linear-gradient(45deg, #0099cc, #00d4ff);
          transform: translateY(-2px);
          box-shadow: 0 6px 20px rgba(0, 212, 255, 0.4);
        }
        
        input, select {
          font-family: 'Exo 2', sans-serif;
          background: rgba(255, 255, 255, 0.1);
          border: 1px solid rgba(0, 212, 255, 0.3);
          color: #ffffff;
          padding: 10px 15px;
          border-radius: 5px;
          transition: all 0.3s ease;
        }
        
        input:focus, select:focus {
          border-color: #00d4ff;
          box-shadow: 0 0 10px rgba(0, 212, 255, 0.3);
          outline: none;
        }
        
        body {
          background: linear-gradient(135deg, #0c0c0c 0%, #1a1a2e 30%, #16213e 60%, #0f0f0f 100%);
          color: #ffffff;
          min-height: 100vh;
          line-height: 1.6;
        }
        
        main {
          max-width: 800px;
          margin: 0 auto;
          padding: 20px;
        }
        
        .form-group {
          margin-bottom: 25px;
        }
        
        .form-group label {
          display: block;
          margin-bottom: 8px;
        }
        
        .form-group input,
        .form-group select {
          width: 100%;
          box-sizing: border-box;
        }
        
        nav a {
          font-family: 'Orbitron', monospace;
          font-weight: 600;
          letter-spacing: 2px;
        }
        
        .results-section {
          background: rgba(0, 212, 255, 0.1);
          border: 1px solid rgba(0, 212, 255, 0.3);
          border-radius: 10px;
          padding: 25px;
          margin-top: 30px;
          backdrop-filter: blur(10px);
        }
        
        /* Enhanced Page Header */
        .page-header {
          text-align: center;
          padding: 2rem 0;
          position: relative;
        }
        
        .header-icon {
          font-size: 4rem;
          margin-bottom: 1rem;
          display: block;
          filter: drop-shadow(0 0 20px rgba(0, 212, 255, 0.5));
          animation: float 3s ease-in-out infinite;
        }
        
        @keyframes float {
          0%, 100% { transform: translateY(0px); }
          50% { transform: translateY(-10px); }
        }
        
        .feature-badges {
          display: flex;
          justify-content: center;
          gap: 1rem;
          margin-top: 1.5rem;
          flex-wrap: wrap;
        }
        
        .badge {
          background: linear-gradient(45deg, rgba(0, 212, 255, 0.2), rgba(0, 153, 204, 0.2));
          border: 1px solid rgba(0, 212, 255, 0.4);
          padding: 0.5rem 1rem;
          border-radius: 20px;
          font-size: 0.9rem;
          color: #ffffff;
          backdrop-filter: blur(10px);
          transition: all 0.3s ease;
        }
        
        .badge:hover {
          background: linear-gradient(45deg, rgba(0, 212, 255, 0.3), rgba(0, 153, 204, 0.3));
          transform: translateY(-2px);
        }
        
        /* Form layout improvements */
        .form-row {
          display: grid;
          grid-template-columns: 1fr 1fr;
          gap: 2rem;
          margin-bottom: 1rem;
        }
        
        @media (max-width: 768px) {
          .form-row {
            grid-template-columns: 1fr;
            gap: 1rem;
          }
        }
        
        /* Prediction results styling */
        .prediction-result {
          display: flex;
          align-items: center;
          gap: 1.5rem;
          padding: 2rem;
          border-radius: 15px;
          margin-bottom: 2rem;
          text-align: left;
        }
        
        .prediction-result.confirmed {
          background: linear-gradient(45deg, rgba(76, 175, 80, 0.2), rgba(56, 142, 60, 0.2));
          border: 2px solid rgba(76, 175, 80, 0.5);
        }
        
        .prediction-result.rejected {
          background: linear-gradient(45deg, rgba(244, 67, 54, 0.2), rgba(198, 40, 40, 0.2));
          border: 2px solid rgba(244, 67, 54, 0.5);
        }
        
        .result-icon {
          font-size: 3rem;
          animation: pulse 2s ease-in-out infinite;
        }
        
        .result-text h3 {
          margin: 0 0 0.5rem 0;
          font-size: 1.5rem;
        }
        
        .result-text p {
          margin: 0;
          font-size: 1.2rem;
          opacity: 0.9;
        }
        
        .result-grid {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
          gap: 1.5rem;
          margin-bottom: 2rem;
        }
        
        .result-card {
          background: rgba(255, 255, 255, 0.05);
          border: 1px solid rgba(255, 255, 255, 0.1);
          border-radius: 12px;
          padding: 1.5rem;
          backdrop-filter: blur(10px);
        }
        
        .result-card h4 {
          margin: 0 0 1rem 0;
          color: #00d4ff;
          font-size: 1.1rem;
        }
        
        .result-card p {
          margin: 0.5rem 0;
          color: #cccccc;
        }
        
        .confidence-bar {
          width: 100%;
          height: 20px;
          background: rgba(255, 255, 255, 0.1);
          border-radius: 10px;
          overflow: hidden;
          margin: 1rem 0;
        }
        
        .confidence-fill {
          height: 100%;
          background: linear-gradient(90deg, #4CAF50, #00d4ff);
          transition: width 1s ease-in-out;
        }
        
        .recommendation {
          background: rgba(0, 212, 255, 0.1);
          border-left: 4px solid #00d4ff;
          padding: 1.5rem;
          border-radius: 8px;
          margin-top: 1.5rem;
        }
        
        .recommendation h4 {
          margin: 0 0 1rem 0;
          color: #00d4ff;
        }
        
        .recommendation p {
          margin: 0;
          line-height: 1.6;
          color: #ffffff;
        }
      `;
      document.head.appendChild(style);
    </script>
</body>
</html>